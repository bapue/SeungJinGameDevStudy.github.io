---
layout : posts

title : "C++ - (1) "

toc : true

toc_sticky : true

comments : true

category :
    - CPP
tag :
    - CPP
    - C++
    - C++기초
---

### C++을 다시 공부하는 이유

블로그에 쓰는 첫 번째 글이다.

오늘은 **C++**에 대하여 공부하고 정리하고자 한다.

우선 나에게 C++은 4년전에 배우기도 하였고 그때 당시 빠르게 훑고 지나갔었기 때문에 깊게 알고있지 않아 다시 기초부터 공부해야할 필요성을 느꼈다.

특히 게임개발 산업에 있어서 C++은 필수라고 생각하며 취업 공고문을 보더라도 이전에는 unity 엔진 덕분에 C#이 어느정도 비율을 차지했으나

 unity Engine 요금제 개편 사건으로 인해 많은 기업들이 떠나 현재 공고문들을 보면 C#보다는 C++의 비율이 커진것 같다.

내가 생각하기에 IT 업계는 계속해서 배우지 않으면 도태되기 쉽기 때문에 또한 이유이기도 하다.



---

### 누가 만들었는가?

다른 언어로는 대표적으로 Java를 만든 사람이자 소녀시대의 팬인 제임스 고슬링이 있다.


![first](https://github.com/bapue/Github-User-Contents/blob/main/biane.jpg?raw=true)

그렇다면 C++은 누가 만들었는가 알아보면 
1979년 비아네 스트로스트룹이 객체지향적인 언어 Simula의 컨셉을 C 언어에 접목시키면서 C with Classes라는 이름으로 만든 게 최초이다. 이후 1983년, 1989년, 1990년에 언어를 버전업하면서 이름이 C++로 바뀌게 된다.



### Hellow, World!

언어를 배우기 시작하면 Hellow, World! 출력부터 배운다. 이로써 컴파일러에 돌아가기 위한 구조를 알수가 있다. C++은 다음과 같다.
```cpp
#include <iostream>

int main() {
  std::cout << "Hello, World!!!" << std::endl;
  return 0;
}
```

여기서 먼저 구조를 살펴보자

1. #include <iostream>

헤더 파일들을 불러오는 것을 알수있다. 즉 .cpp로된 파일과 .h로 된 파일이 있다. 
또한 <iostream> 은 iostream 은 cout, cin, endl 등 기본 입출력과 관련된 객체들을 정의한 헤더파일이다.

2. int main() {}

C언어와 동일하게 main 함수를 정의하는 부분이다.
프로그램이 실행되면 가장 먼저 실행되는 함수이다.

3. std::cout << "Hello, World!!!" << std::endl;

표준라이브러리에 있는 변수나 함수는 std 표준 네임스페이스에 포함되어있다.
그래서 표준 라이브러리를 사용할 때는 std::접두어를 붙여야한다. 

하지만 #include 밑에 use namespace std;를 선언하면 귀찮게 std::를 입력하는 수고를 덜어준다.

cout는 출력문이다. "<<" 쉬프트 연산자를 이용하여 출력할 것을 출력한다.

"Hello, World!!!"은 String 타입인것으로 보인다. 

endl;은 쉽게 보면 \n 과 같다라고 생각할수도 있지만, 깊게 파고들면 출력 버퍼를 비운다.


###  namespace

네임 스페이스는 말 그대로 공간이다.

같은 공간에 변수 int _hp 가 있을 수 없다.

그래서 네임스페이스가 A와 B가 있다고 가정하고

A::_hp 와 B::_hp 는 다른 공간에 있는 _hp 인 것이다.

함수도 마찬가지

## 반복문

for문

1부터 10까지 출력하는 반복문 

```cpp
// C++ 의 for 문
#include <iostream>
using namespace std;

int main() {
  int i;

  for (i = 1; i <= 10; i++)
    cout << i << endl;

  return 0;
}
```

1부터 10까지 더하는 반복문

```cpp
/* 1 부터 10 까지 합*/
#include <iostream>
using namespace std;

int main() {
  int i, sum = 0;

  for (i = 1; i <= 10; i++) 
    sum += i;

  cout << "합은 : " << sum << endl;
  return 0;
}
```

C언어와 동일하다해도 무방하다

그렇다면 While 문은?

```cpp
/* while 문 이용하기 */
#include <iostream>
using namespace std;

int main() {
  int i = 1, sum = 0;

  while (i <= 10) {
    sum += i;
    i++;
  }

  cout << "합은 : " << sum << endl;
  return 0;
}
```

놀랍게도 동일하다.






3 . **QFile**을 이용하여 file을 읽어온다.

```cpp
QFile file; //declare variables on header file
file->setFileName(strFileName);  //load the file
file->open(QFile::ReadOnly);  //just read the file
```

4 . **QByteArray**를 이용해서 file data 형식을 바꾼다.

```cpp
QByteArray byteArray; //declare variables on header file
byteArray = file->readAll(); // transfer file to byteArray
```

5 . **Unsigned Char 형식**으로 data 형식을 바꾼다.

```cpp
uchar data; //declare variables on header file
data = (const uchar*) byteArray.constData(); //transfer byteArray to uchar
```

6 . **QImage**를 이용하여 Image형식을 초기화한다.

```cpp
QImage image; //declare variables on header file
QImage *temp = new QImage(data,width,height,QImage::Format_Grayscale8);
image = *temp;  //initialize image
```

7 . **QPixmap**을 이용하여 이미지를 변환하자.

```cpp
QPixmap pix; //declare variables on header file
pix = QPixmap::fromImage(image,Qt::AutoColor); 
//initialize raw image to qpixmap
```

8 . **QPixmap**을 이용하여 **QLabel**에 이미지를 띄우자.

```cpp
ui->label_image->setPixmap(pix);               
//show image on qlabel
```

#### QImage에 대한 설명은 [Qt Documentation](https://doc.qt.io/qt-5/qimage.html)를 참고하자. #
---

## Raw Data Image File 읽기 결과
위에 알려준 순서대로 *Raw data image file*을 읽을 경우,
다음과 같은 프로젝트를 만들 수 있다.



- MainWindow 화면 여기서 'Open raw Image' 버튼을 누른다.


![second](https://user-images.githubusercontent.com/41863759/80867697-832be680-8cd0-11ea-94c3-f5538690a0ed.jpg)

- Dialog 창에서 이미지 포멧을 정하고, Width와 Height를 입력한다.

![third](https://user-images.githubusercontent.com/41863759/80867699-84f5aa00-8cd0-11ea-8cdb-8258d2f2544b.jpg)

- Image가 첨부된 모습

---
전체 코드는 [Image Viewer Qt](https://github.com/Taeyoung96/Image_Viewer_Qt)를 참고하자.





